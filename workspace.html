<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MBTECH Workspace | Analytics & Supervision</title>
    
    <meta name="robots" content="noindex, nofollow">
    <link rel="icon" type="image/png" href="favicon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['"Plus Jakarta Sans"', 'sans-serif'] },
                    colors: { 
                        brand: { 
                            blue: '#0056b3', 
                            blueHover: '#004494', 
                            orange: '#f97316',
                            dark: '#0f172a',
                            light: '#f8fafc'
                        } 
                    }
                }
            }
        }
    </script>

    <!-- Import Map for React and Lucide -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.284.0",
            "firebase/app": "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js",
            "firebase/auth": "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js",
            "firebase/firestore": "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js"
        }
    }
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-brand-light text-slate-800 font-sans antialiased overflow-x-hidden">
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Activity, ShieldAlert, Link as LinkIcon, Lock, User, 
            ChevronRight, XCircle, CheckCircle, Clock, Menu, X,
            LogOut, ShieldCheck, Zap, Server, AlertTriangle, 
            RefreshCw, Globe, ArrowUpRight, Search, FileCode
        } from 'lucide-react';
        import { initializeApp } from 'firebase/app';
        import { getAuth, signInWithEmailAndPassword, signInWithCustomToken, signInAnonymously, onAuthStateChanged, signOut } from 'firebase/auth';
        import { getFirestore } from 'firebase/firestore';

        // --- Firebase Initialization ---
        let auth = null;
        let db = null;
        try {
            const firebaseConfig = {
                apiKey: "AIzaSyDRkEVsI2swGV5cgn_0gMHTIWUbLhsacfY",
                authDomain: "mbtechstore-17984.firebaseapp.com",
                projectId: "mbtechstore-17984",
                storageBucket: "mbtechstore-17984.firebasestorage.app",
                messagingSenderId: "1083008774596",
                appId: "1:1083008774596:web:110b651c6426116ed43491",
                measurementId: "G-213C6T6EJ0"
            };
            
            const app = initializeApp(firebaseConfig);
            auth = getAuth(app);
            db = getFirestore(app);
        } catch (error) {
            console.error("Error initializing Firebase:", error);
        }

        // --- Mock Data ---
        const performanceData = {
            score: 92,
            loadTime: '1.2s',
            ttfb: '200ms',
            lcp: '1.5s',
            uptime: '99.98%',
            recentTests: [
                { id: 1, time: '2 mins ago', page: '/index.html', load: '1.1s', status: 'Good' },
                { id: 2, time: '1 hour ago', page: '/store.html', load: '1.8s', status: 'Average' },
                { id: 3, time: '3 hours ago', page: '/course.html', load: '1.2s', status: 'Good' },
            ]
        };

        const linkHealthData = {
            totalScanned: 145,
            brokenLinks: 3,
            lastScanned: '10 mins ago',
            issues: [
                { id: 1, url: 'https://mbtech.ng/old-course-promo', status: 404, referringPage: '/index.html', type: 'Internal' },
                { id: 2, url: 'https://external-resource.com/doc.pdf', status: 500, referringPage: '/course.html', type: 'External' },
                { id: 3, url: 'https://mbtech.ng/assets/missing-img.png', status: 404, referringPage: '/info.html', type: 'Asset' },
            ]
        };

        const securityData = {
            score: 85,
            sslStatus: 'Valid',
            sslExpiry: '240 days',
            unresolvedAlerts: 2,
            auditLogs: [
                { id: 1, time: '2026-03-01 09:12 AM', event: 'Failed Admin Login Attempt', ip: '192.168.1.45', severity: 'Medium' },
                { id: 2, time: '2026-03-01 08:30 AM', event: 'Admin Login Successful', ip: '10.0.0.1', severity: 'Info' },
                { id: 3, time: '2026-02-28 11:45 PM', event: 'Suspicious API Rate Limit Exceeded', ip: '45.22.11.9', severity: 'High' },
                { id: 4, time: '2026-02-28 02:00 PM', event: 'SSL Certificate Auto-Renewed', ip: 'System', severity: 'Info' },
            ]
        };

        // --- Components ---

        const LoginScreen = ({ onLogin }) => {
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [error, setError] = useState('');
            const [isLoading, setIsLoading] = useState(false);

            const handleLogin = async (e) => {
                e.preventDefault();
                if (!auth) {
                    setError('Firebase is not configured in this environment.');
                    return;
                }
                
                setIsLoading(true);
                setError('');
                
                try {
                    await signInWithEmailAndPassword(auth, email, password);
                    onLogin();
                } catch (err) {
                    console.error("Login error:", err);
                    setError(err.message || 'Invalid supervisor credentials. Please try again.');
                } finally {
                    setIsLoading(false);
                }
            };

            return (
                <div className="min-h-screen flex items-center justify-center bg-brand-dark px-4 relative overflow-hidden">
                    {/* Background accents */}
                    <div className="absolute top-[-10%] left-[-10%] w-96 h-96 bg-brand-orange rounded-full mix-blend-multiply filter blur-3xl opacity-20"></div>
                    <div className="absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-brand-blue rounded-full mix-blend-multiply filter blur-3xl opacity-20"></div>
                    
                    <div className="bg-white p-8 sm:p-10 rounded-2xl shadow-2xl w-full max-w-md relative z-10 border border-slate-100">
                        <div className="text-center mb-8">
                            <div className="w-16 h-16 bg-brand-dark rounded-xl mx-auto flex items-center justify-center shadow-lg shadow-brand-dark/30 mb-4">
                                <Activity size={32} className="text-brand-orange" />
                            </div>
                            <h1 className="text-2xl font-extrabold text-slate-800">Workspace Login</h1>
                            <p className="text-slate-500 mt-2 text-sm">Analytics & Supervisor Access</p>
                        </div>
                        
                        {error && (
                            <div className="mb-6 p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2 border border-red-100">
                                <XCircle size={16} /> {error}
                            </div>
                        )}

                        <form onSubmit={handleLogin} className="space-y-5">
                            <div>
                                <label className="block text-sm font-semibold text-slate-700 mb-1">Supervisor Email</label>
                                <div className="relative">
                                    <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <User size={18} className="text-slate-400" />
                                    </div>
                                    <input 
                                        type="email" 
                                        value={email}
                                        onChange={(e) => setEmail(e.target.value)}
                                        className="w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-blue focus:border-brand-blue transition-all"
                                        required
                                    />
                                </div>
                            </div>
                            <div>
                                <label className="block text-sm font-semibold text-slate-700 mb-1">Password</label>
                                <div className="relative">
                                    <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <Lock size={18} className="text-slate-400" />
                                    </div>
                                    <input 
                                        type="password" 
                                        value={password}
                                        onChange={(e) => setPassword(e.target.value)}
                                        className="w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-blue focus:border-brand-blue transition-all"
                                        required
                                    />
                                </div>
                            </div>
                            <button 
                                type="submit" 
                                disabled={isLoading}
                                className="w-full bg-brand-dark text-white py-3.5 rounded-xl font-bold shadow-lg hover:bg-slate-800 transition-colors flex items-center justify-center gap-2 disabled:opacity-70"
                            >
                                {isLoading ? 'Authenticating...' : 'Enter Workspace'} <ChevronRight size={18} />
                            </button>
                        </form>
                    </div>
                </div>
            );
        };

        const MetricCard = ({ title, value, subtext, icon: Icon, colorClass, trend }) => (
            <div className="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow">
                <div className="flex justify-between items-start mb-4">
                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center ${colorClass}`}>
                        <Icon size={24} />
                    </div>
                    {trend && (
                        <div className={`text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 ${trend > 0 ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>
                            {trend > 0 ? <ArrowUpRight size={12}/> : null} {Math.abs(trend)}%
                        </div>
                    )}
                </div>
                <div>
                    <h3 className="text-slate-500 font-semibold text-sm mb-1">{title}</h3>
                    <div className="text-3xl font-extrabold text-slate-800">{value}</div>
                    {subtext && <p className="text-xs text-slate-400 mt-2 font-medium">{subtext}</p>}
                </div>
            </div>
        );

        const App = () => {
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [user, setUser] = useState(null);
            const [activeTab, setActiveTab] = useState('overview'); // overview, performance, links, security
            const [isSidebarOpen, setIsSidebarOpen] = useState(false);
            const [isScanning, setIsScanning] = useState(false);

            useEffect(() => {
                if (!auth) return;

                const initAuth = async () => {
                    if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                        try { await signInWithCustomToken(auth, __initial_auth_token); } catch(e){}
                    } else if (!auth.currentUser) {
                        try { await signInAnonymously(auth); } catch(e){}
                    }
                };
                initAuth();

                const unsubscribe = onAuthStateChanged(auth, (currentUser) => {
                    setUser(currentUser);
                    if (currentUser && currentUser.email) {
                        setIsAuthenticated(true);
                    } else {
                        setIsAuthenticated(false);
                    }
                });

                return () => unsubscribe();
            }, []);

            const handleLogout = async () => {
                if (auth) {
                    await signOut(auth);
                }
                setIsAuthenticated(false);
            };

            const handleScan = () => {
                setIsScanning(true);
                setTimeout(() => setIsScanning(false), 2000);
            };

            if (!isAuthenticated) {
                return <LoginScreen onLogin={() => setIsAuthenticated(true)} />;
            }

            return (
                <div className="min-h-screen flex flex-col md:flex-row bg-slate-50">
                    
                    {/* Mobile Header */}
                    <div className="md:hidden bg-brand-dark text-white p-4 flex items-center justify-between sticky top-0 z-40 shadow-md">
                        <div className="font-bold text-lg flex items-center gap-2">
                            <Activity className="text-brand-orange" /> Workspace
                        </div>
                        <button onClick={() => setIsSidebarOpen(true)} className="p-2 hover:bg-slate-800 rounded-lg">
                            <Menu size={24} />
                        </button>
                    </div>

                    {/* SidebarOverlay */}
                    {isSidebarOpen && (
                        <div className="fixed inset-0 bg-black/50 z-40 md:hidden" onClick={() => setIsSidebarOpen(false)}></div>
                    )}

                    {/* Sidebar */}
                    <div className={`fixed inset-y-0 left-0 transform ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'} md:relative md:translate-x-0 w-64 bg-brand-dark text-slate-300 transition-transform duration-300 ease-in-out z-50 flex flex-col shadow-2xl md:shadow-none`}>
                        <div className="p-6 flex items-center justify-between border-b border-slate-800">
                            <div className="font-extrabold text-xl text-white flex items-center gap-2 tracking-tight">
                                <div className="w-8 h-8 bg-brand-orange rounded-lg flex items-center justify-center">
                                    <Activity size={20} className="text-white" />
                                </div>
                                Analytics
                            </div>
                            <button className="md:hidden p-1 hover:text-white" onClick={() => setIsSidebarOpen(false)}>
                                <X size={20} />
                            </button>
                        </div>

                        <div className="p-4 flex-1">
                            <div className="text-xs font-bold text-slate-500 uppercase tracking-wider mb-4 ml-2 mt-4">Supervision</div>
                            <nav className="space-y-2">
                                <button 
                                    onClick={() => { setActiveTab('overview'); setIsSidebarOpen(false); }}
                                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium ${activeTab === 'overview' ? 'bg-slate-800 text-brand-orange shadow-lg' : 'hover:bg-slate-800 hover:text-white'}`}
                                >
                                    <Globe size={18} /> Overview
                                </button>
                                <button 
                                    onClick={() => { setActiveTab('performance'); setIsSidebarOpen(false); }}
                                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium ${activeTab === 'performance' ? 'bg-slate-800 text-brand-orange shadow-lg' : 'hover:bg-slate-800 hover:text-white'}`}
                                >
                                    <Zap size={18} /> Page Speed
                                </button>
                                <button 
                                    onClick={() => { setActiveTab('links'); setIsSidebarOpen(false); }}
                                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium ${activeTab === 'links' ? 'bg-slate-800 text-brand-orange shadow-lg' : 'hover:bg-slate-800 hover:text-white'}`}
                                >
                                    <LinkIcon size={18} /> Link Health
                                </button>
                                <button 
                                    onClick={() => { setActiveTab('security'); setIsSidebarOpen(false); }}
                                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium ${activeTab === 'security' ? 'bg-slate-800 text-brand-orange shadow-lg' : 'hover:bg-slate-800 hover:text-white'}`}
                                >
                                    <ShieldAlert size={18} /> Security & Audits
                                </button>
                            </nav>
                        </div>

                        <div className="p-4 border-t border-slate-800">
                            <div className="flex items-center gap-3 px-4 py-3 mb-2 bg-slate-800/50 rounded-xl">
                                <div className="w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-white font-bold">
                                    {user?.email ? user.email.charAt(0).toUpperCase() : 'S'}
                                </div>
                                <div className="overflow-hidden">
                                    <div className="text-sm font-bold text-white">Supervisor</div>
                                    <div className="text-xs text-slate-400 truncate">{user?.email || 'admin@mbtech.ng'}</div>
                                </div>
                            </div>
                            <button onClick={handleLogout} className="w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-400 hover:bg-red-400/10 transition-colors font-medium">
                                <LogOut size={18} /> Logout
                            </button>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="flex-1 overflow-y-auto h-screen p-4 md:p-8">
                        <div className="max-w-6xl mx-auto space-y-8">
                            
                            {/* Header Section */}
                            <div className="flex flex-col md:flex-row md:items-end justify-between gap-4">
                                <div>
                                    <h1 className="text-3xl font-extrabold text-slate-800 capitalize tracking-tight flex items-center gap-3">
                                        {activeTab === 'overview' && 'System Overview'}
                                        {activeTab === 'performance' && 'Speed & Performance'}
                                        {activeTab === 'links' && 'Link Health Monitor'}
                                        {activeTab === 'security' && 'Security Audits'}
                                    </h1>
                                    <p className="text-slate-500 mt-1">
                                        {activeTab === 'overview' && "High-level analytics and health status of MBTECH platform."}
                                        {activeTab === 'performance' && "Monitor page load times and core web vitals."}
                                        {activeTab === 'links' && "Track 404s, broken resources, and dead external links."}
                                        {activeTab === 'security' && "Supervise suspicious activities and security configurations."}
                                    </p>
                                </div>
                                <div className="flex gap-3">
                                    <button 
                                        onClick={handleScan}
                                        disabled={isScanning}
                                        className="px-5 py-2.5 bg-brand-blue hover:bg-brand-blueHover text-white rounded-xl font-bold shadow-lg shadow-brand-blue/30 transition-all flex items-center gap-2 disabled:opacity-70"
                                    >
                                        <RefreshCw size={16} className={isScanning ? 'animate-spin' : ''} />
                                        {isScanning ? 'Scanning...' : 'Run Diagnostics'}
                                    </button>
                                </div>
                            </div>

                            {/* --- OVERVIEW TAB --- */}
                            {activeTab === 'overview' && (
                                <div className="space-y-8 animate-in fade-in duration-300">
                                    {/* Metrics Grid */}
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                                        <MetricCard 
                                            title="Performance Score" 
                                            value={`${performanceData.score}/100`} 
                                            subtext="Based on Core Web Vitals"
                                            icon={Zap} 
                                            colorClass="bg-blue-100 text-blue-600"
                                            trend={2}
                                        />
                                        <MetricCard 
                                            title="Broken Links" 
                                            value={linkHealthData.brokenLinks} 
                                            subtext={`Out of ${linkHealthData.totalScanned} scanned`}
                                            icon={LinkIcon} 
                                            colorClass="bg-orange-100 text-orange-600"
                                        />
                                        <MetricCard 
                                            title="Security Score" 
                                            value={`${securityData.score}/100`} 
                                            subtext={`${securityData.unresolvedAlerts} unresolved alerts`}
                                            icon={ShieldCheck} 
                                            colorClass="bg-emerald-100 text-emerald-600"
                                            trend={5}
                                        />
                                        <MetricCard 
                                            title="System Uptime" 
                                            value={performanceData.uptime} 
                                            subtext="Last 30 days"
                                            icon={Server} 
                                            colorClass="bg-purple-100 text-purple-600"
                                        />
                                    </div>

                                    {/* Two Column Layout for Quick Logs */}
                                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                        {/* Security Quick View */}
                                        <div className="bg-white rounded-2xl border border-slate-100 shadow-sm p-6">
                                            <div className="flex justify-between items-center mb-6">
                                                <h3 className="font-bold text-slate-800 flex items-center gap-2"><ShieldAlert size={18} className="text-brand-orange"/> Recent Security Logs</h3>
                                                <button onClick={() => setActiveTab('security')} className="text-sm font-semibold text-brand-blue hover:underline">View All</button>
                                            </div>
                                            <div className="space-y-4">
                                                {securityData.auditLogs.slice(0,3).map(log => (
                                                    <div key={log.id} className="flex items-start gap-3 p-3 rounded-xl bg-slate-50 border border-slate-100">
                                                        <div className={`mt-0.5 w-2 h-2 rounded-full ${log.severity === 'High' ? 'bg-red-500' : (log.severity === 'Medium' ? 'bg-orange-500' : 'bg-blue-500')}`}></div>
                                                        <div className="flex-1">
                                                            <div className="text-sm font-bold text-slate-800">{log.event}</div>
                                                            <div className="text-xs text-slate-500 mt-1 flex justify-between">
                                                                <span>IP: {log.ip}</span>
                                                                <span>{log.time}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        {/* Performance Quick View */}
                                        <div className="bg-white rounded-2xl border border-slate-100 shadow-sm p-6">
                                            <div className="flex justify-between items-center mb-6">
                                                <h3 className="font-bold text-slate-800 flex items-center gap-2"><Activity size={18} className="text-emerald-500"/> Speed Tests</h3>
                                                <button onClick={() => setActiveTab('performance')} className="text-sm font-semibold text-brand-blue hover:underline">View All</button>
                                            </div>
                                            <div className="space-y-4">
                                                {performanceData.recentTests.map(test => (
                                                    <div key={test.id} className="flex items-center justify-between p-3 rounded-xl bg-slate-50 border border-slate-100">
                                                        <div className="flex items-center gap-3">
                                                            <FileCode size={16} className="text-slate-400"/>
                                                            <span className="text-sm font-semibold text-slate-700">{test.page}</span>
                                                        </div>
                                                        <div className="flex items-center gap-4">
                                                            <span className="text-sm font-bold text-slate-800">{test.load}</span>
                                                            <span className={`text-xs px-2 py-1 rounded-full font-bold ${test.status === 'Good' ? 'bg-emerald-100 text-emerald-700' : 'bg-orange-100 text-orange-700'}`}>{test.status}</span>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* --- PERFORMANCE TAB --- */}
                            {activeTab === 'performance' && (
                                <div className="space-y-6 animate-in fade-in duration-300">
                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                        <div className="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm text-center">
                                            <div className="text-sm font-bold text-slate-500 mb-2 uppercase tracking-wider">Average Load Time</div>
                                            <div className="text-4xl font-extrabold text-emerald-600">{performanceData.loadTime}</div>
                                            <div className="text-xs text-slate-400 mt-2">Target: &lt; 2.0s</div>
                                        </div>
                                        <div className="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm text-center">
                                            <div className="text-sm font-bold text-slate-500 mb-2 uppercase tracking-wider">TTFB (Time to First Byte)</div>
                                            <div className="text-4xl font-extrabold text-blue-600">{performanceData.ttfb}</div>
                                            <div className="text-xs text-slate-400 mt-2">Target: &lt; 600ms</div>
                                        </div>
                                        <div className="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm text-center">
                                            <div className="text-sm font-bold text-slate-500 mb-2 uppercase tracking-wider">LCP (Largest Contentful Paint)</div>
                                            <div className="text-4xl font-extrabold text-orange-500">{performanceData.lcp}</div>
                                            <div className="text-xs text-slate-400 mt-2">Target: &lt; 2.5s</div>
                                        </div>
                                    </div>

                                    <div className="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                                        <div className="p-6 border-b border-slate-100 flex justify-between items-center">
                                            <h3 className="font-bold text-slate-800">Page Speed History</h3>
                                        </div>
                                        <div className="overflow-x-auto">
                                            <table className="w-full text-left text-sm">
                                                <thead className="bg-slate-50 text-slate-600 font-semibold uppercase text-xs tracking-wider">
                                                    <tr>
                                                        <th className="px-6 py-4">Page</th>
                                                        <th className="px-6 py-4">Time Tested</th>
                                                        <th className="px-6 py-4">Load Time</th>
                                                        <th className="px-6 py-4">Status</th>
                                                    </tr>
                                                </thead>
                                                <tbody className="divide-y divide-slate-100">
                                                    {performanceData.recentTests.map((test, idx) => (
                                                        <tr key={idx} className="hover:bg-slate-50 transition-colors">
                                                            <td className="px-6 py-4 font-semibold text-slate-700">{test.page}</td>
                                                            <td className="px-6 py-4 text-slate-500">{test.time}</td>
                                                            <td className="px-6 py-4 font-bold">{test.load}</td>
                                                            <td className="px-6 py-4">
                                                                <span className={`px-3 py-1 rounded-full text-xs font-bold ${test.status === 'Good' ? 'bg-emerald-100 text-emerald-700' : 'bg-orange-100 text-orange-700'}`}>
                                                                    {test.status}
                                                                </span>
                                                            </td>
                                                        </tr>
                                                    ))}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* --- LINK HEALTH TAB --- */}
                            {activeTab === 'links' && (
                                <div className="space-y-6 animate-in fade-in duration-300">
                                    <div className="flex items-center gap-4 bg-orange-50 border border-orange-200 p-4 rounded-xl text-orange-800">
                                        <AlertTriangle size={24} className="shrink-0" />
                                        <div>
                                            <div className="font-bold text-sm">Action Required</div>
                                            <div className="text-xs mt-0.5">Found {linkHealthData.brokenLinks} broken links during the last scan ({linkHealthData.lastScanned}).</div>
                                        </div>
                                    </div>

                                    <div className="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                                        <div className="overflow-x-auto">
                                            <table className="w-full text-left text-sm">
                                                <thead className="bg-slate-50 text-slate-600 font-semibold border-b border-slate-200 uppercase text-xs tracking-wider">
                                                    <tr>
                                                        <th className="px-6 py-4">Broken URL</th>
                                                        <th className="px-6 py-4">Status Code</th>
                                                        <th className="px-6 py-4">Found On (Referrer)</th>
                                                        <th className="px-6 py-4">Type</th>
                                                    </tr>
                                                </thead>
                                                <tbody className="divide-y divide-slate-100">
                                                    {linkHealthData.issues.map(issue => (
                                                        <tr key={issue.id} className="hover:bg-slate-50 transition-colors">
                                                            <td className="px-6 py-4">
                                                                <div className="font-medium text-red-600 break-all max-w-xs">{issue.url}</div>
                                                            </td>
                                                            <td className="px-6 py-4">
                                                                <span className="bg-red-100 text-red-700 px-2 py-1 rounded font-mono font-bold text-xs">{issue.status} Error</span>
                                                            </td>
                                                            <td className="px-6 py-4 text-slate-600 font-medium">{issue.referringPage}</td>
                                                            <td className="px-6 py-4">
                                                                <span className="bg-slate-100 text-slate-600 px-2 py-1 rounded text-xs font-bold">{issue.type}</span>
                                                            </td>
                                                        </tr>
                                                    ))}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* --- SECURITY TAB --- */}
                            {activeTab === 'security' && (
                                <div className="space-y-6 animate-in fade-in duration-300">
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div className="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4">
                                            <div className="w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center">
                                                <Lock size={32} className="text-emerald-600"/>
                                            </div>
                                            <div>
                                                <div className="text-sm font-bold text-slate-500 uppercase tracking-wider">SSL Certificate</div>
                                                <div className="text-2xl font-extrabold text-slate-800">{securityData.sslStatus}</div>
                                                <div className="text-xs text-slate-400 font-medium mt-1">Expires in {securityData.sslExpiry}</div>
                                            </div>
                                        </div>
                                        <div className="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4">
                                            <div className="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center">
                                                <ShieldAlert size={32} className="text-red-600"/>
                                            </div>
                                            <div>
                                                <div className="text-sm font-bold text-slate-500 uppercase tracking-wider">Active Threats / Alerts</div>
                                                <div className="text-2xl font-extrabold text-slate-800">{securityData.unresolvedAlerts}</div>
                                                <div className="text-xs text-slate-400 font-medium mt-1">Review audit logs below</div>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                                        <div className="p-6 border-b border-slate-100">
                                            <h3 className="font-bold text-slate-800">System Audit Logs</h3>
                                        </div>
                                        <div className="overflow-x-auto">
                                            <table className="w-full text-left text-sm">
                                                <thead className="bg-slate-50 text-slate-600 font-semibold border-b border-slate-200 uppercase text-xs tracking-wider">
                                                    <tr>
                                                        <th className="px-6 py-4">Timestamp</th>
                                                        <th className="px-6 py-4">Event Description</th>
                                                        <th className="px-6 py-4">IP Address</th>
                                                        <th className="px-6 py-4">Severity</th>
                                                    </tr>
                                                </thead>
                                                <tbody className="divide-y divide-slate-100">
                                                    {securityData.auditLogs.map(log => (
                                                        <tr key={log.id} className="hover:bg-slate-50 transition-colors">
                                                            <td className="px-6 py-4 text-slate-500 text-xs font-mono">{log.time}</td>
                                                            <td className="px-6 py-4 font-semibold text-slate-700">{log.event}</td>
                                                            <td className="px-6 py-4 text-slate-600 font-mono text-xs">{log.ip}</td>
                                                            <td className="px-6 py-4">
                                                                <span className={`px-2 py-1 rounded text-xs font-bold ${
                                                                    log.severity === 'High' ? 'bg-red-100 text-red-700' : 
                                                                    (log.severity === 'Medium' ? 'bg-orange-100 text-orange-700' : 'bg-blue-100 text-blue-700')
                                                                }`}>
                                                                    {log.severity}
                                                                </span>
                                                            </td>
                                                        </tr>
                                                    ))}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            )}

                        </div>
                    </div>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
